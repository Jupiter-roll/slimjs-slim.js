<script>

    (function() {


        document.registerElement('kanban-app', class extends SlimBaseElement {


            get template() {
                return `
<input type="button" id="add" />
<s-repeat source="lists">
<kanban-list></kanban-list>
</s-repeat>
`
            }

            get lists() {
                if (this.model) {
                    return Object.keys( this.model.lists ).map( k => { return this.model.lists[k] })
                }
                else return []
            }

            afterRender() {
                this.find('#add').onclick = () => {
                    this.model.addList(prompt('list name?'))
                    this.update()
                }
                this.update()
            }


        })


    })()

</script>