<script>
;(function(){


    Slim('kanban-column', class extends SlimBaseElement {


        get template() {
            return `<div id="title" bind>[[data.name]]</div><kanban-item slim-repeat="myTasks"></kanban-item>`
        }

        get myTasks() {
            return this.model.getTasks(this.data.name)
        }

        afterRender() {
            this.model.addEventListener('change', () => {
                this.update(false, true)
            })
            $(this).droppable({
                accept: 'kanban-item',
                drop: function(event, ui) {
                    this.model.moveTask(ui.draggable[0].data, this.data)
                }
            })
        }


    })




})()
</script>

<style>
    kanban-column {
        display: inline-flex;
        flex-direction: column;
        width: 15em;
        padding: 1em;
        padding-bottom: 5em;
        background: antiquewhite;
        align-items: center;
        justify-content: flex-start;
    }

    kanban-column #title {
        align-self: flex-start;
        margin-bottom: 1em;
    }
</style>