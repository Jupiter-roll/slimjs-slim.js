<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Slim3</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/0.7.23/CustomElements.min.js"></script>
    <script src="../../src/Slim3.js"></script>
</head>
<body>
    <test-parent></test-parent>

    <script>

        Slim.tag('test-parent',
        `<div bind click="handleClick" aaa="[[double(myValue)]]" bbb="[[double(myData.num)]]" prop="[[myValue]]" hello="[[myData.text]]" world="[[myData.value]]">[[myData.text]] ---> [[myData.value]] ---> [[myData.num]] ---> [[myValue]]</div>
        <hr/>
        <li s-repeat="items" aaa="[[myValue]]"><span bind>[[myData.text]] >>> [[data_index]] > [[reverse(data.text)]]</span></li>`,
        class extends Slim {

            get useShadow() { return false; }

            reverse(text) {
                return text.split('').reverse().join('');
            }

            onBeforeCreated() {
                window.unit = this;
                this.myData = {
                    text: 'hello',
                    value: 'world',
                    num: 333
                };
                this.items = [
                    {text: "abc", value: 123},
                    {text: "bbb", value: 222},
                    {text: "ccc", value: 333}
                ];
                this.myValue = 123;
            }

            handleClick(e) {
                console.log(e);
                this.items = [
                    {text: "abc", value: 123},
                    {text: "bbb", value: 222},
                    {text: "ccc", value: 333},
                    {text: "ddd", value: 444},
                    {text: "eee", value: 555},
                    {text: "fff", value: 666}
                ];
            }

            double(value) {
                return value * 2;
            }

        })
    </script>
</body>
</html>